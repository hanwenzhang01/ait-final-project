<!DOCTYPE html>
<html>
    <head>
        <h1>add a book to ur shelf:</h1>
    </head>

    <body>
        <script src="../node_modules/jquery/dist/jquery.js"></script>
        <script src="../node_modules/parsleyjs/dist/parsley.js"></script>

        <div class="bs-callout bs-callout-warning hidden">
            <h4>Oh snap!</h4>
            <p>This form seems to be invalid :(</p>
        </div>

        <div class="bs-callout bs-callout-info hidden">
            <h4>Yay!</h4>
            <p>Everything seems to be ok :)</p>
        </div>

        <form id="bookform" action="" method="POST" data-parsley-validate="">
            <h4>title:</h4>
            <input 
                type="text"
                name="title" 
                placeholder="title"
                data-parsley-required=""/>
            <br>

            <h4>author:</h4>
            <input
                type="text"
                name="author"
                placeholder="author"
                data-parsley-required=""/>
            <br>

            <h4>review, in stars:</h4>
            <div class="stars">
                <input type="select" id="star5" name="stars" value="excellent" />
                    <label for="star5" title="text">excellent</label>
                <input type="select" id="star4" name="stars" value="good" />
                    <label for="star4" title="text">good</label>
                <input type="select" id="star3" name="stars" value="ok" />
                    <label for="star3" title="text">ok</label>
                <input type="select" id="star2" name="stars" value="bad" />
                    <label for="star2" title="text">bad</label>
                <input type="select" id="star1" name="stars" value="awful" />
                    <label for="star1" title="text">awful</label>
            </div>
            <br>

            <h4>review, in words:</h4>
            <textarea 
                name="review" 
                placeholder="ur review">
            </textarea>
            <br>

            <h4>publication year:</h4>
            <input 
                type="text" 
                data-parsley-maxlength="6"
                data-parsley-pattern="[0-9]{1-4}|[0-9]{1-4}BC|[0-9]{1-4}AD"
                name="year" 
                placeholder="year"/>
            <br>

            <h4>genre:</h4>
            <input
                type="text"
                name="genre"
                placeholder="genre"/>
            <br>
            <br>
            <input type="submit" class="btn btn-default" value="validate"/>
        </form>
        <script type="text/javascript">
            $(function () {
                $('#bookform').parsley().on('field:validated', function() {
                    var ok = $('.parsley-error').length === 0;
                    $('.bs-callout-info').toggleClass('hidden', !ok);
                    $('.bs-callout-warning').toggleClass('hidden', ok);
                })
                .on('form:submit', function() {
                    return true; // Don't submit form for this demo
                });
            });
        </script>
    </body>
</html>